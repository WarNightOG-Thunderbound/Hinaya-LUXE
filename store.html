<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HinayaLUXE | Luxury Redefined</title>
    <!-- Firebase SDK v9 (Optimized) -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js';
        
        const firebaseConfig = {
            apiKey: "AIzaSyBpGMx8E7c83_uMjwpS8MkIay_gxKGQrCo",
            authDomain: "hinayaluxe.firebaseapp.com",
            projectId: "hinayaluxe",
            storageBucket: "hinayaluxe.firebasestorage.app",
            messagingSenderId: "544982943619",
            appId: "1:544982943619:web:1232e11c6b8c489843d8b6"
        };

        // Initialize Firebase
        window.firebaseApp = initializeApp(firebaseConfig);
        window.db = getFirestore(firebaseApp);
        console.log('Firebase loaded (v9)');
    </script>
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== CSS VARIABLES - DARK LUXURY THEME ===== */
        :root {
            --color-primary: #0a0a0a;
            --color-secondary: #d4af37;
            --color-accent: #b8860b;
            --color-light: #1a1a1a;
            --color-dark: #ffffff;
            --color-gray: #888888;
            --color-success: #27ae60;
            --color-error: #e74c3c;
            --color-warning: #f39c12;
            --color-card: #222222;
            --color-border: #333333;
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Inter', sans-serif;
            --shadow-sm: 0 2px 8px rgba(212, 175, 55, 0.1);
            --shadow-md: 0 4px 20px rgba(212, 175, 55, 0.15);
            --shadow-lg: 0 8px 40px rgba(212, 175, 55, 0.2);
            --shadow-gold: 0 0 30px rgba(212, 175, 55, 0.3);
        }

        /* ===== RESET & BASE ===== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { 
            font-family: var(--font-body); 
            background: var(--color-primary); 
            color: var(--color-dark); 
            line-height: 1.6;
            overflow-x: hidden;
        }
        a { text-decoration: none; color: inherit; }
        button { cursor: pointer; border: none; font-family: inherit; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
        .loading { animation: pulse 1.5s infinite; }

        /* ===== LOADING OPTIMIZED ===== */
        #loadingOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--color-primary); display: flex; flex-direction: column;
            justify-content: center; align-items: center; z-index: 9999;
            transition: opacity 0.5s ease;
        }
        .loading-spinner {
            width: 60px; height: 60px; border: 3px solid transparent;
            border-top: 3px solid var(--color-secondary); border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        .loading-text { margin-top: 20px; color: var(--color-secondary); font-weight: 500; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* ===== HEADER - STICKY ===== */
        .header {
            background: rgba(10, 10, 10, 0.95); 
            backdrop-filter: blur(10px);
            position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
            padding: 15px 0; border-bottom: 1px solid var(--color-border);
            box-shadow: var(--shadow-md);
        }
        .header-container {
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo {
            display: flex; align-items: center; gap: 12px;
            font-size: 1.8rem; font-family: var(--font-heading); font-weight: 700;
        }
        .logo i { color: var(--color-secondary); }
        .logo span { 
            background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .nav-menu { display: flex; gap: 30px; list-style: none; }
        .nav-link {
            padding: 8px 0; font-weight: 500; position: relative;
            color: var(--color-gray); transition: color 0.3s;
        }
        .nav-link::after {
            content: ''; position: absolute; bottom: 0; left: 0;
            width: 0; height: 2px; background: var(--color-secondary);
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        .nav-link:hover, .nav-link.active { color: var(--color-dark); }
        .header-actions { display: flex; gap: 15px; align-items: center; }
        .cart-btn {
            background: var(--color-card); color: var(--color-dark); 
            width: 45px; height: 45px; border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            position: relative; transition: all 0.3s; border: 1px solid var(--color-border);
        }
        .cart-btn:hover { background: var(--color-secondary); color: var(--color-primary); }
        .cart-count {
            position: absolute; top: -5px; right: -5px; 
            background: var(--color-secondary); color: var(--color-primary);
            font-size: 0.7rem; font-weight: 700; min-width: 20px; height: 20px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
        }

        /* ===== HERO SECTION ===== */
        .hero {
            padding: 150px 0 80px; 
            background: linear-gradient(135deg, 
                rgba(10, 10, 10, 0.95) 0%, 
                rgba(26, 26, 26, 0.9) 100%);
            position: relative; overflow: hidden;
        }
        .hero::before {
            content: ''; position: absolute; top: 0; left: 0; 
            width: 100%; height: 100%;
            background: radial-gradient(circle at 30% 20%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(184, 134, 11, 0.1) 0%, transparent 50%);
        }
        .hero-content { 
            position: relative; z-index: 1; max-width: 800px; 
            margin: 0 auto; text-align: center;
        }
        .hero-title { 
            font-size: 3.8rem; margin-bottom: 20px; line-height: 1.1;
            background: linear-gradient(135deg, var(--color-dark), var(--color-secondary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .hero-subtitle { 
            font-size: 1.3rem; opacity: 0.9; margin-bottom: 40px;
            color: var(--color-gray); line-height: 1.8;
        }
        .btn {
            display: inline-flex; align-items: center; gap: 12px;
            padding: 16px 36px; border-radius: 12px; font-weight: 600;
            letter-spacing: 0.5px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.1rem; position: relative; overflow: hidden;
        }
        .btn::before {
            content: ''; position: absolute; top: 0; left: -100%;
            width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        .btn:hover::before { left: 100%; }
        .btn-primary {
            background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
            color: var(--color-primary); box-shadow: var(--shadow-gold);
        }
        .btn-primary:hover { 
            transform: translateY(-3px) scale(1.05); 
            box-shadow: var(--shadow-lg), var(--shadow-gold);
        }

        /* ===== CATEGORIES ===== */
        .categories { padding: 80px 0; }
        .section-title { 
            text-align: center; font-size: 2.8rem; margin-bottom: 50px;
            color: var(--color-dark); position: relative;
        }
        .section-title::after {
            content: ''; position: absolute; bottom: -10px; left: 50%;
            transform: translateX(-50%); width: 80px; height: 3px;
            background: linear-gradient(90deg, var(--color-secondary), var(--color-accent));
            border-radius: 2px;
        }
        .categories-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px; margin-bottom: 50px;
        }
        .category-card {
            background: var(--color-card); border-radius: 16px; 
            padding: 25px 20px; text-align: center; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--color-border); position: relative;
            overflow: hidden;
        }
        .category-card::before {
            content: ''; position: absolute; top: 0; left: 0;
            width: 100%; height: 100%; background: linear-gradient(135deg, transparent, rgba(212, 175, 55, 0.05), transparent);
            opacity: 0; transition: opacity 0.3s;
        }
        .category-card:hover::before { opacity: 1; }
        .category-card:hover {
            transform: translateY(-8px) scale(1.03); 
            border-color: var(--color-secondary);
            box-shadow: var(--shadow-md);
        }
        .category-icon { 
            font-size: 2.2rem; color: var(--color-secondary); 
            margin-bottom: 15px; transition: transform 0.3s;
        }
        .category-card:hover .category-icon { transform: scale(1.2); }
        .category-name { 
            font-weight: 600; color: var(--color-dark); 
            font-size: 1.1rem;
        }

        /* ===== PRODUCTS - OPTIMIZED GRID ===== */
        .products { padding: 80px 0; }
        .products-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 40px; flex-wrap: wrap; gap: 20px;
        }
        .search-box { flex: 1; max-width: 450px; position: relative; }
        .search-input {
            width: 100%; padding: 16px 20px 16px 50px; 
            background: var(--color-card); border: 2px solid var(--color-border);
            border-radius: 12px; font-size: 1rem; color: var(--color-dark);
            transition: all 0.3s;
        }
        .search-input:focus { 
            outline: none; border-color: var(--color-secondary); 
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }
        .search-icon { 
            position: absolute; left: 20px; top: 50%; 
            transform: translateY(-50%); color: var(--color-gray);
            font-size: 1.1rem;
        }
        
        /* OPTIMIZED PRODUCT GRID */
        .products-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px; margin-bottom: 60px;
        }
        
        /* Responsive adjustments */
        @media (min-width: 1200px) {
            .products-grid { grid-template-columns: repeat(4, 1fr); }
        }
        @media (max-width: 1199px) and (min-width: 768px) {
            .products-grid { grid-template-columns: repeat(3, 1fr); }
        }
        @media (max-width: 767px) {
            .products-grid { grid-template-columns: repeat(2, 1fr); gap: 20px; }
        }
        @media (max-width: 480px) {
            .products-grid { grid-template-columns: 1fr; }
        }

        .product-card {
            background: var(--color-card); border-radius: 18px; 
            overflow: hidden; position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--color-border); cursor: pointer;
            height: 100%; display: flex; flex-direction: column;
        }
        .product-card:hover { 
            transform: translateY(-10px) scale(1.02); 
            border-color: var(--color-secondary);
            box-shadow: var(--shadow-lg);
        }
        .product-image {
            height: 220px; overflow: hidden; position: relative;
            flex-shrink: 0;
        }
        .product-image img { 
            width: 100%; height: 100%; object-fit: cover; 
            transition: transform 0.5s ease;
        }
        .product-card:hover .product-image img { transform: scale(1.1); }
        .product-badge {
            position: absolute; top: 15px; right: 15px; 
            background: var(--color-secondary); color: var(--color-primary);
            padding: 6px 12px; border-radius: 8px; font-size: 0.75rem;
            font-weight: 700; letter-spacing: 0.5px; z-index: 2;
        }
        .product-content {
            padding: 20px; flex-grow: 1; display: flex; flex-direction: column;
        }
        .product-category { 
            color: var(--color-secondary); font-size: 0.8rem; 
            margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;
            font-weight: 600;
        }
        .product-title { 
            font-size: 1.2rem; font-weight: 700; margin-bottom: 10px; 
            color: var(--color-dark); line-height: 1.4; flex-grow: 1;
        }
        .product-description {
            color: var(--color-gray); font-size: 0.9rem; margin-bottom: 15px;
            line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 2;
            -webkit-box-orient: vertical; overflow: hidden;
        }
        .product-rating {
            display: flex; align-items: center; gap: 5px; 
            margin-bottom: 15px; color: var(--color-warning);
        }
        .product-footer {
            display: flex; justify-content: space-between; align-items: center;
            margin-top: auto;
        }
        .product-price { 
            font-family: var(--font-heading); font-size: 1.6rem; 
            font-weight: 700; color: var(--color-secondary);
        }
        .product-actions { display: flex; gap: 10px; }
        .btn-icon {
            width: 40px; height: 40px; border-radius: 10px; 
            display: flex; align-items: center; justify-content: center;
            background: rgba(212, 175, 55, 0.1); color: var(--color-secondary);
            transition: all 0.3s; border: 1px solid rgba(212, 175, 55, 0.2);
        }
        .btn-icon:hover { 
            background: var(--color-secondary); color: var(--color-primary);
            transform: scale(1.1);
        }

        /* ===== MODALS ===== */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); display: none; justify-content: center;
            align-items: center; z-index: 2000; padding: 20px;
            backdrop-filter: blur(10px);
        }
        .modal.active { display: flex; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal-content {
            background: var(--color-card); border-radius: 24px; 
            max-width: 1000px; width: 100%; max-height: 90vh;
            overflow-y: auto; position: relative; border: 1px solid var(--color-border);
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes slideUp { 
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal-close {
            position: absolute; top: 20px; right: 20px; width: 44px; height: 44px;
            border-radius: 50%; background: var(--color-primary); 
            color: var(--color-dark); display: flex; align-items: center;
            justify-content: center; font-size: 1.5rem; z-index: 10;
            transition: all 0.3s; border: 1px solid var(--color-border);
        }
        .modal-close:hover { 
            background: var(--color-secondary); color: var(--color-primary);
            transform: rotate(90deg);
        }

        /* ===== CART MODAL ===== */
        #cartModal .modal-content { max-width: 600px; }
        .cart-header { 
            padding: 30px 30px 20px; border-bottom: 1px solid var(--color-border);
            display: flex; justify-content: space-between; align-items: center;
        }
        .cart-header h2 { font-size: 1.8rem; }
        .cart-total { 
            font-size: 1.4rem; font-weight: 700; color: var(--color-secondary);
        }
        .cart-items { padding: 20px 30px; max-height: 400px; overflow-y: auto; }
        .cart-item {
            display: flex; gap: 20px; padding: 20px 0; 
            border-bottom: 1px solid var(--color-border); align-items: center;
        }
        .cart-item:last-child { border-bottom: none; }
        .cart-item-image { 
            width: 80px; height: 80px; border-radius: 12px; 
            object-fit: cover; flex-shrink: 0;
        }
        .cart-item-details { flex-grow: 1; }
        .cart-item-title { 
            font-weight: 600; margin-bottom: 5px; color: var(--color-dark);
            font-size: 1.1rem;
        }
        .cart-item-price { 
            color: var(--color-secondary); font-weight: 700; 
            font-size: 1.2rem;
        }
        .cart-item-actions {
            display: flex; align-items: center; gap: 15px;
        }
        .quantity-control {
            display: flex; align-items: center; gap: 10px;
            background: var(--color-primary); border-radius: 8px;
            padding: 5px; border: 1px solid var(--color-border);
        }
        .quantity-btn {
            width: 30px; height: 30px; border-radius: 6px;
            background: var(--color-card); color: var(--color-dark);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; transition: all 0.2s;
        }
        .quantity-btn:hover { background: var(--color-secondary); color: var(--color-primary); }
        .quantity-input {
            width: 40px; text-align: center; background: transparent;
            border: none; color: var(--color-dark); font-weight: 600;
            font-size: 1.1rem;
        }
        .remove-btn {
            padding: 8px 15px; background: rgba(231, 76, 60, 0.1);
            color: var(--color-error); border-radius: 8px; font-size: 0.9rem;
            transition: all 0.3s; border: 1px solid rgba(231, 76, 60, 0.2);
        }
        .remove-btn:hover { 
            background: var(--color-error); color: var(--color-dark);
            transform: scale(1.05);
        }
        .cart-empty { 
            text-align: center; padding: 60px 20px; color: var(--color-gray);
        }
        .cart-footer { 
            padding: 25px 30px; border-top: 1px solid var(--color-border);
            background: rgba(26, 26, 26, 0.5);
        }
        .cart-summary {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 25px;
        }
        .summary-label { color: var(--color-gray); font-size: 1.1rem; }
        .summary-value { 
            font-size: 1.6rem; font-weight: 700; color: var(--color-secondary);
        }

        /* ===== FOOTER ===== */
        .footer {
            background: var(--color-light); padding: 70px 0 30px;
            border-top: 1px solid var(--color-border);
        }
        .footer-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px; margin-bottom: 50px;
        }
        .footer-col h3 { 
            color: var(--color-secondary); margin-bottom: 25px; 
            font-size: 1.4rem; font-weight: 600;
        }
        .footer-links { list-style: none; }
        .footer-links li { margin-bottom: 12px; }
        .footer-links a { 
            color: var(--color-gray); transition: all 0.3s;
            display: flex; align-items: center; gap: 10px;
        }
        .footer-links a:hover { 
            color: var(--color-secondary); padding-left: 5px;
        }
        .admin-link { color: var(--color-secondary) !important; font-weight: 700; }
        .social-links {
            display: flex; gap: 15px; margin-top: 20px;
        }
        .social-link {
            width: 44px; height: 44px; border-radius: 12px;
            background: var(--color-card); color: var(--color-dark);
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s; border: 1px solid var(--color-border);
        }
        .social-link:hover {
            background: var(--color-secondary); color: var(--color-primary);
            transform: translateY(-3px);
        }
        .footer-bottom {
            text-align: center; padding-top: 30px; 
            border-top: 1px solid var(--color-border); color: var(--color-gray);
            font-size: 0.9rem; opacity: 0.7;
        }

        /* ===== FORM STYLES ===== */
        .form-group { margin-bottom: 20px; }
        .form-label { 
            display: block; margin-bottom: 8px; color: var(--color-dark);
            font-weight: 600; font-size: 0.95rem;
        }
        .form-input, .form-textarea {
            width: 100%; padding: 16px 20px; background: var(--color-primary);
            border: 2px solid var(--color-border); border-radius: 12px;
            color: var(--color-dark); font-size: 1rem; transition: all 0.3s;
        }
        .form-input:focus, .form-textarea:focus {
            outline: none; border-color: var(--color-secondary);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }
        .form-textarea { min-height: 120px; resize: vertical; }

        /* ===== ORDER FORM ===== */
        .order-form-container { padding: 40px; }
        .order-form-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px; margin-bottom: 30px;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .hero-title { font-size: 2.8rem; }
            .section-title { font-size: 2.2rem; }
            .nav-menu { display: none; }
            .mobile-toggle { display: block; }
            .products-grid { grid-template-columns: repeat(2, 1fr); }
            .modal-content { margin: 10px; border-radius: 20px; }
        }

        @media (max-width: 480px) {
            .products-grid { grid-template-columns: 1fr; }
            .hero-title { font-size: 2.2rem; }
            .btn { padding: 14px 25px; font-size: 1rem; }
        }

        /* ===== UTILITY CLASSES ===== */
        .text-center { text-align: center; }
        .text-secondary { color: var(--color-secondary); }
        .mb-20 { margin-bottom: 20px; }
        .mb-30 { margin-bottom: 30px; }
        .mt-20 { margin-top: 20px; }
        .mt-30 { margin-top: 30px; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-10 { gap: 10px; }
        .gap-20 { gap: 20px; }
        .w-full { width: 100%; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading Luxury Experience...</div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container header-container">
            <a href="store.html" class="logo">
                <i class="fas fa-gem"></i>
                <span>HinayaLUXE</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="#home" class="nav-link active">Home</a></li>
                    <li><a href="#categories" class="nav-link">Collections</a></li>
                    <li><a href="#products" class="nav-link">Products</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                    <li><a href="admin.html" class="nav-link admin-link">Admin Panel</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <button class="cart-btn" id="cartToggle">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero" id="home">
        <div class="container hero-content">
            <h1 class="hero-title">Experience Ultimate Luxury</h1>
            <p class="hero-subtitle">Discover the epitome of elegance with our curated collection of premium products. Each piece is crafted with unparalleled attention to detail and sophistication.</p>
            <button class="btn btn-primary" onclick="scrollToSection('products')">
                <i class="fas fa-sparkles"></i> Explore Collection
            </button>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories" id="categories">
        <div class="container">
            <h2 class="section-title">Curated Collections</h2>
            <div class="categories-grid" id="categoriesGrid">
                <!-- Categories loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Products -->
    <section class="products" id="products">
        <div class="container">
            <div class="products-header">
                <h2 class="section-title">Premium Collection</h2>
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search luxury products...">
                </div>
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Products loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="logo">
                        <i class="fas fa-gem"></i>
                        <span>HinayaLUXE</span>
                    </div>
                    <p style="margin: 20px 0; color: var(--color-gray); line-height: 1.8;">
                        Redefining luxury through exceptional craftsmanship, timeless design, and unparalleled quality.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#categories"><i class="fas fa-chevron-right"></i> Collections</a></li>
                        <li><a href="#products"><i class="fas fa-chevron-right"></i> Products</a></li>
                        <li><a href="#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
                        <li><a href="admin.html" class="admin-link"><i class="fas fa-lock"></i> Admin Panel</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Info</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> contact@hinayaluxe.com</li>
                        <li><i class="fas fa-phone"></i> +92 334 4148636</li>
                        <li><i class="fas fa-map-marker-alt"></i> C Block PASCO Society<br>Canal Road, Lahore, Pakistan</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 HinayaLUXE. All rights reserved.</p>
                <p>Developed with <i class="fas fa-heart" style="color: var(--color-error);"></i> by WarNightOG • ThunderBound • SHJR x ThunderBound</p>
            </div>
        </div>
    </footer>

    <!-- Product Detail Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <button class="modal-close" id="productModalClose">&times;</button>
            <div style="padding: 40px;" id="productModalContent">
                <!-- Product details loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <button class="modal-close" id="cartModalClose">&times;</button>
            <div class="cart-header">
                <h2>Your Shopping Bag</h2>
                <div class="cart-total" id="cartTotalDisplay">PKR 0</div>
            </div>
            <div class="cart-items" id="cartItems">
                <div class="cart-empty">
                    <i class="fas fa-shopping-bag" style="font-size: 3rem; color: var(--color-gray); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--color-gray); margin-bottom: 10px;">Your cart is empty</h3>
                    <p style="color: var(--color-gray);">Add some luxury items to your cart</p>
                </div>
            </div>
            <div class="cart-footer" id="cartFooter" style="display: none;">
                <div class="cart-summary">
                    <span class="summary-label">Total Amount:</span>
                    <span class="summary-value" id="cartTotal">PKR 0</span>
                </div>
                <button class="btn btn-primary w-full" id="checkoutBtn" style="padding: 18px;">
                    <i class="fas fa-lock"></i> Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content" style="max-width: 600px;">
            <button class="modal-close" id="checkoutModalClose">&times;</button>
            <div class="order-form-container">
                <h2 style="text-align: center; margin-bottom: 30px; font-size: 1.8rem;">Complete Your Order</h2>
                <form id="checkoutForm">
                    <div class="order-form-grid">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-input" id="checkoutName" required placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-input" id="checkoutPhone" required 
                                   placeholder="03XX-XXXXXXX" pattern="^(03\d{2}[-\s]?\d{7})$">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Delivery Address</label>
                        <textarea class="form-textarea" id="checkoutAddress" required 
                                  placeholder="Full delivery address with city and postal code"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Order Notes (Optional)</label>
                        <textarea class="form-textarea" id="checkoutNotes" 
                                  placeholder="Special instructions for delivery"></textarea>
                    </div>
                    <div style="background: rgba(212, 175, 55, 0.1); padding: 20px; border-radius: 12px; margin: 25px 0;">
                        <h3 style="margin-bottom: 15px; color: var(--color-secondary);">Order Summary</h3>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Items:</span>
                            <span id="summaryItems">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Subtotal:</span>
                            <span id="summarySubtotal">PKR 0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.2rem;">
                            <span>Total:</span>
                            <span id="summaryTotal">PKR 0</span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary w-full" id="placeOrderBtn" style="padding: 18px;">
                        <i class="fas fa-paper-plane"></i> Place Order Now
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content" style="max-width: 500px; text-align: center;">
            <button class="modal-close" id="successModalClose">&times;</button>
            <div style="padding: 50px 40px;">
                <div style="width: 80px; height: 80px; background: var(--color-success); 
                         color: white; border-radius: 50%; display: flex; align-items: center; 
                         justify-content: center; font-size: 2.5rem; margin: 0 auto 30px;">
                    <i class="fas fa-check"></i>
                </div>
                <h2 style="margin-bottom: 15px; font-size: 2rem;">Order Placed Successfully!</h2>
                <p style="color: var(--color-gray); margin-bottom: 30px; line-height: 1.6;">
                    Thank you for your order! We will contact you within 24 hours to confirm delivery details.
                </p>
                <p style="color: var(--color-secondary); font-weight: 600; margin-bottom: 30px;">
                    Order ID: <span id="orderIdDisplay"></span>
                </p>
                <button class="btn btn-primary" id="successOkBtn" style="padding: 15px 40px;">
                    Continue Shopping
                </button>
            </div>
        </div>
    </div>

    <script type="module">
        import { collection, getDocs, addDoc, query, orderBy, limit, where } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js';

        // Global Variables
        let allProducts = [];
        let currentCart = JSON.parse(localStorage.getItem('hinayaluxe_cart')) || [];
        let isProductsLoaded = false;

        // DOM Elements
        const loadingOverlay = document.getElementById('loadingOverlay');
        const productsGrid = document.getElementById('productsGrid');
        const categoriesGrid = document.getElementById('categoriesGrid');
        const searchInput = document.getElementById('searchInput');
        const cartCount = document.getElementById('cartCount');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const cartTotalDisplay = document.getElementById('cartTotalDisplay');
        const cartFooter = document.getElementById('cartFooter');
        const checkoutBtn = document.getElementById('checkoutBtn');

        // Initialize App
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Hide loading after 1.5 seconds (optimized)
                setTimeout(() => {
                    loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, 300);
                }, 1000);

                // Load initial data in parallel
                await Promise.all([
                    loadCategories(),
                    loadProducts()
                ]);

                updateCartCount();
                setupEventListeners();

            } catch (error) {
                console.error('Initialization error:', error);
                loadingOverlay.innerHTML = `
                    <div style="text-align: center; color: var(--color-error);">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-bottom: 20px;"></i>
                        <h3>Connection Error</h3>
                        <p>Please check your internet connection and refresh</p>
                    </div>
                `;
            }
        });

        // Load Products - OPTIMIZED
        async function loadProducts() {
            try {
                // Show skeleton loading
                showProductSkeletons();
                
                const productsRef = collection(db, 'products');
                const q = query(productsRef, orderBy('createdAt', 'desc'), limit(50));
                const snapshot = await getDocs(q);
                
                allProducts = [];
                snapshot.forEach(doc => {
                    const data = doc.data();
                    allProducts.push({
                        id: doc.id,
                        title: data.title || 'No Title',
                        description: data.description || 'No Description',
                        price: data.price || 0,
                        category: data.category || 'Uncategorized',
                        images: data.images || ['https://images.unsplash.com/photo-1560448204-e02f11c3d0e2'],
                        stock: data.stock || 0,
                        featured: data.featured || false,
                        rating: data.rating || 4.5,
                        createdAt: data.createdAt
                    });
                });

                if (allProducts.length === 0) {
                    displayNoProducts();
                } else {
                    displayProducts(allProducts);
                }
                
                isProductsLoaded = true;
                
            } catch (error) {
                console.error('Error loading products:', error);
                displayNoProducts();
            }
        }

        // Show Skeleton Loading
        function showProductSkeletons() {
            const skeletons = Array(12).fill().map((_, i) => `
                <div class="product-card loading" style="border: none;">
                    <div class="product-image" style="background: var(--color-light);"></div>
                    <div class="product-content">
                        <div class="product-category" style="background: var(--color-light); width: 60px; height: 12px;"></div>
                        <div class="product-title" style="background: var(--color-light); height: 24px; margin-bottom: 10px;"></div>
                        <div class="product-description" style="background: var(--color-light); height: 40px;"></div>
                        <div class="product-footer">
                            <div class="product-price" style="background: var(--color-light); width: 80px; height: 28px;"></div>
                            <div class="product-actions">
                                <div class="btn-icon" style="background: var(--color-light);"></div>
                                <div class="btn-icon" style="background: var(--color-light);"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            productsGrid.innerHTML = skeletons;
        }

        // Display Products - OPTIMIZED
        function displayProducts(products) {
            productsGrid.innerHTML = products.map(product => `
                <div class="product-card" data-id="${product.id}" 
                     onclick="handleProductCardClick(event, ${JSON.stringify(product).replace(/"/g, '&quot;')})">
                    <div class="product-image">
                        <img src="${product.images[0]}" alt="${product.title}" 
                             loading="lazy" onerror="this.src='https://via.placeholder.com/400x300/222/fff?text=LUXURY'">
                        ${product.featured ? '<span class="product-badge">Featured</span>' : ''}
                        ${product.stock < 5 ? '<span class="product-badge" style="background: var(--color-warning);">Low Stock</span>' : ''}
                    </div>
                    <div class="product-content">
                        <div class="product-category">${product.category}</div>
                        <h3 class="product-title">${product.title}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-rating">
                            ${generateStars(product.rating)}
                            <span style="color: var(--color-gray); font-size: 0.9rem;">(${product.rating})</span>
                        </div>
                        <div class="product-footer">
                            <div class="product-price">PKR ${product.price.toLocaleString()}</div>
                            <div class="product-actions">
                                <button class="btn-icon" onclick="viewProductDetails(event, ${JSON.stringify(product).replace(/"/g, '&quot;')})">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn-icon" onclick="addToCart(event, '${product.id}')">
                                    <i class="fas fa-shopping-bag"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Generate Star Rating
        function generateStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            
            for (let i = 1; i <= 5; i++) {
                if (i <= fullStars) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === fullStars + 1 && hasHalfStar) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            return stars;
        }

        // Handle Product Card Click
        function handleProductCardClick(event, product) {
            // If clicked on action buttons, let those handlers work
            if (event.target.closest('.product-actions') || 
                event.target.classList.contains('btn-icon')) {
                return;
            }
            
            // Otherwise, open quick order modal
            openQuickOrderModal(product);
        }

        // Quick Order Modal
        function openQuickOrderModal(product) {
            const modalContent = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
                    <div>
                        <img src="${product.images[0]}" alt="${product.title}" 
                             style="width: 100%; border-radius: 16px;">
                    </div>
                    <div>
                        <h2 style="font-size: 2.2rem; margin-bottom: 15px;">${product.title}</h2>
                        <div style="color: var(--color-secondary); font-size: 1.1rem; margin-bottom: 10px;">
                            ${product.category}
                        </div>
                        <div class="product-rating" style="margin-bottom: 20px;">
                            ${generateStars(product.rating)}
                            <span style="color: var(--color-gray);">(${product.rating}/5)</span>
                        </div>
                        <p style="color: var(--color-gray); margin-bottom: 25px; line-height: 1.7;">
                            ${product.description}
                        </p>
                        <div style="font-size: 2.5rem; font-weight: 700; color: var(--color-secondary); margin-bottom: 30px;">
                            PKR ${product.price.toLocaleString()}
                        </div>
                        <div style="display: flex; gap: 15px; margin-bottom: 30px;">
                            <button class="btn btn-primary" onclick="addToCart(null, '${product.id}'); openCartModal();" 
                                    style="flex: 1; padding: 16px;">
                                <i class="fas fa-shopping-bag"></i> Add to Cart
                            </button>
                            <button class="btn" onclick="quickOrderNow(${JSON.stringify(product).replace(/"/g, '&quot;')})" 
                                    style="flex: 1; background: var(--color-card); color: var(--color-dark); padding: 16px;">
                                <i class="fas fa-bolt"></i> Order Now
                            </button>
                        </div>
                        <div style="background: rgba(39, 174, 96, 0.1); padding: 15px; border-radius: 10px; color: var(--color-success);">
                            <i class="fas fa-shipping-fast"></i> Free shipping on orders over PKR 10,000
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('productModalContent').innerHTML = modalContent;
            document.getElementById('productModal').classList.add('active');
        }

        // Quick Order Now
        function quickOrderNow(product) {
            addToCart(null, product.id);
            document.getElementById('productModal').classList.remove('active');
            openCheckoutModal();
        }

        // View Product Details
        function viewProductDetails(event, product) {
            event.stopPropagation();
            openQuickOrderModal(product);
        }

        // Load Categories
        async function loadCategories() {
            const categories = [
                { id: 'all', name: 'All Products', icon: 'fa-gem' },
                { id: 'fabric', name: 'Premium Fabric', icon: 'fa-tshirt' },
                { id: 'organic', name: 'Organic Goods', icon: 'fa-leaf' },
                { id: 'perfumes', name: 'Luxury Perfumes', icon: 'fa-spray-can' },
                { id: 'tools', name: 'Artisan Tools', icon: 'fa-tools' },
                { id: 'agriculture', name: 'Agriculture', icon: 'fa-tractor' },
                { id: 'electronics', name: 'Electronics', icon: 'fa-laptop' },
                { id: 'jewelry', name: 'Fine Jewelry', icon: 'fa-gem' }
            ];
            
            categoriesGrid.innerHTML = categories.map(cat => `
                <div class="category-card" onclick="filterByCategory('${cat.id}')">
                    <i class="fas ${cat.icon} category-icon"></i>
                    <div class="category-name">${cat.name}</div>
                </div>
            `).join('');
        }

        // Filter by Category
        function filterByCategory(categoryId) {
            if (categoryId === 'all') {
                displayProducts(allProducts);
                return;
            }
            
            const filtered = allProducts.filter(product => 
                product.category.toLowerCase().includes(categoryId.toLowerCase())
            );
            
            if (filtered.length === 0) {
                displayNoProducts(`No products found in ${categoryId}`);
            } else {
                displayProducts(filtered);
            }
        }

        // Display No Products
        function displayNoProducts(message = 'No products available at the moment') {
            productsGrid.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
                    <i class="fas fa-box-open" style="font-size: 4rem; color: var(--color-gray); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--color-gray); margin-bottom: 10px;">${message}</h3>
                    <p style="color: var(--color-gray);">Please check back later or try a different category</p>
                </div>
            `;
        }

        // Add to Cart
        function addToCart(event, productId) {
            if (event) event.stopPropagation();
            
            const product = allProducts.find(p => p.id === productId);
            if (!product) return;
            
            if (product.stock <= 0) {
                showToast('This product is out of stock', 'error');
                return;
            }
            
            const existingItem = currentCart.find(item => item.id === productId);
            if (existingItem) {
                if (existingItem.quantity >= product.stock) {
                    showToast('Cannot add more than available stock', 'error');
                    return;
                }
                existingItem.quantity += 1;
            } else {
                currentCart.push({
                    id: product.id,
                    title: product.title,
                    price: product.price,
                    image: product.images[0],
                    quantity: 1,
                    stock: product.stock
                });
            }
            
            saveCart();
            updateCartCount();
            showToast('Added to cart!', 'success');
        }

        // Save Cart to LocalStorage
        function saveCart() {
            localStorage.setItem('hinayaluxe_cart', JSON.stringify(currentCart));
        }

        // Update Cart Count
        function updateCartCount() {
            const count = currentCart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = count;
            cartCount.style.display = count > 0 ? 'flex' : 'none';
        }

        // Update Cart Modal
        function updateCartModal() {
            if (currentCart.length === 0) {
                cartItems.innerHTML = `
                    <div class="cart-empty">
                        <i class="fas fa-shopping-bag" style="font-size: 3rem; color: var(--color-gray); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--color-gray); margin-bottom: 10px;">Your cart is empty</h3>
                        <p style="color: var(--color-gray);">Add some luxury items to your cart</p>
                    </div>
                `;
                cartFooter.style.display = 'none';
                return;
            }
            
            let total = 0;
            cartItems.innerHTML = currentCart.map(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                return `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.title}" class="cart-item-image" 
                             onerror="this.src='https://via.placeholder.com/100/222/fff?text=IMG'">
                        <div class="cart-item-details">
                            <div class="cart-item-title">${item.title}</div>
                            <div class="cart-item-price">PKR ${item.price.toLocaleString()}</div>
                        </div>
                        <div class="cart-item-actions">
                            <div class="quantity-control">
                                <button class="quantity-btn" onclick="updateCartQuantity('${item.id}', -1)">-</button>
                                <input type="text" class="quantity-input" value="${item.quantity}" 
                                       readonly>
                                <button class="quantity-btn" onclick="updateCartQuantity('${item.id}', 1)">+</button>
                            </div>
                            <button class="remove-btn" onclick="removeFromCart('${item.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
            
            cartTotal.textContent = `PKR ${total.toLocaleString()}`;
            cartTotalDisplay.textContent = `PKR ${total.toLocaleString()}`;
            cartFooter.style.display = 'block';
        }

        // Update Cart Quantity
        function updateCartQuantity(productId, change) {
            const item = currentCart.find(item => item.id === productId);
            if (!item) return;
            
            const newQuantity = item.quantity + change;
            
            if (newQuantity < 1) {
                removeFromCart(productId);
                return;
            }
            
            if (newQuantity > item.stock) {
                showToast('Cannot add more than available stock', 'error');
                return;
            }
            
            item.quantity = newQuantity;
            saveCart();
            updateCartCount();
            updateCartModal();
        }

        // Remove from Cart
        function removeFromCart(productId) {
            currentCart = currentCart.filter(item => item.id !== productId);
            saveCart();
            updateCartCount();
            updateCartModal();
            showToast('Removed from cart', 'info');
        }

        // Open Cart Modal
        function openCartModal() {
            updateCartModal();
            document.getElementById('cartModal').classList.add('active');
        }

        // Open Checkout Modal
        function openCheckoutModal() {
            if (currentCart.length === 0) {
                showToast('Your cart is empty', 'error');
                return;
            }
            
            const total = currentCart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const itemsCount = currentCart.reduce((sum, item) => sum + item.quantity, 0);
            
            document.getElementById('summaryItems').textContent = itemsCount;
            document.getElementById('summarySubtotal').textContent = `PKR ${total.toLocaleString()}`;
            document.getElementById('summaryTotal').textContent = `PKR ${total.toLocaleString()}`;
            
            document.getElementById('cartModal').classList.remove('active');
            document.getElementById('checkoutModal').classList.add('active');
        }

        // Handle Checkout
        async function handleCheckout(e) {
            e.preventDefault();
            
            const name = document.getElementById('checkoutName').value;
            const phone = document.getElementById('checkoutPhone').value;
            const address = document.getElementById('checkoutAddress').value;
            const notes = document.getElementById('checkoutNotes').value;
            
            // Validate
            const phoneRegex = /^(03\d{2}[-\s]?\d{7})$/;
            if (!phoneRegex.test(phone)) {
                showToast('Please enter a valid Pakistani phone number (03XX-XXXXXXX)', 'error');
                return;
            }
            
            if (!name || !address) {
                showToast('Please fill all required fields', 'error');
                return;
            }
            
            try {
                const placeOrderBtn = document.getElementById('placeOrderBtn');
                const originalText = placeOrderBtn.innerHTML;
                placeOrderBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                placeOrderBtn.disabled = true;
                
                // Create individual orders for each cart item
                const ordersRef = collection(db, 'orders');
                const orderPromises = currentCart.map(item => 
                    addDoc(ordersRef, {
                        customerName: name,
                        customerPhone: phone,
                        customerAddress: address,
                        notes: notes,
                        productId: item.id,
                        productTitle: item.title,
                        quantity: item.quantity,
                        unitPrice: item.price,
                        totalAmount: item.price * item.quantity,
                        status: 'pending',
                        createdAt: new Date().toISOString(),
                        orderType: 'cart'
                    })
                );
                
                const results = await Promise.all(orderPromises);
                const orderId = results[0].id;
                
                // Clear cart
                currentCart = [];
                saveCart();
                updateCartCount();
                
                // Show success
                document.getElementById('orderIdDisplay').textContent = orderId.substring(0, 8).toUpperCase();
                document.getElementById('checkoutModal').classList.remove('active');
                document.getElementById('successModal').classList.add('active');
                
                // Reset form
                document.getElementById('checkoutForm').reset();
                
                placeOrderBtn.innerHTML = originalText;
                placeOrderBtn.disabled = false;
                
            } catch (error) {
                console.error('Error placing order:', error);
                showToast('Failed to place order. Please try again.', 'error');
                document.getElementById('placeOrderBtn').innerHTML = '<i class="fas fa-paper-plane"></i> Place Order Now';
                document.getElementById('placeOrderBtn').disabled = false;
            }
        }

        // Show Toast Notification
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            toast.style.cssText = `
                position: fixed; bottom: 20px; right: 20px; 
                background: ${type === 'success' ? 'var(--color-success)' : type === 'error' ? 'var(--color-error)' : 'var(--color-secondary)'};
                color: white; padding: 15px 20px; border-radius: 10px;
                display: flex; align-items: center; gap: 10px;
                z-index: 3000; animation: slideIn 0.3s ease;
                box-shadow: var(--shadow-md);
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Search
            searchInput.addEventListener('input', debounce(searchProducts, 300));
            
            // Cart toggle
            document.getElementById('cartToggle').addEventListener('click', openCartModal);
            
            // Checkout button
            checkoutBtn.addEventListener('click', openCheckoutModal);
            
            // Checkout form
            document.getElementById('checkoutForm').addEventListener('submit', handleCheckout);
            
            // Modal closes
            document.querySelectorAll('.modal-close').forEach(btn => {
                btn.addEventListener('click', () => {
                    btn.closest('.modal').classList.remove('active');
                });
            });
            
            // Close modals on outside click
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                    }
                });
            });
            
            // Success modal OK
            document.getElementById('successOkBtn').addEventListener('click', () => {
                document.getElementById('successModal').classList.remove('active');
            });
            
            // Success modal close
            document.getElementById('successModalClose').addEventListener('click', () => {
                document.getElementById('successModal').classList.remove('active');
            });
        }

        // Search Products
        function searchProducts() {
            const term = searchInput.value.toLowerCase().trim();
            if (!term) {
                displayProducts(allProducts);
                return;
            }
            
            const filtered = allProducts.filter(product =>
                product.title.toLowerCase().includes(term) ||
                product.description.toLowerCase().includes(term) ||
                product.category.toLowerCase().includes(term)
            );
            
            if (filtered.length === 0) {
                displayNoProducts(`No results for "${term}"`);
            } else {
                displayProducts(filtered);
            }
        }

        // Utility Functions
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Add CSS for animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            .toast-notification i { font-size: 1.2rem; }
        `;
        document.head.appendChild(style);

        // Make functions available globally
        window.handleProductCardClick = handleProductCardClick;
        window.viewProductDetails = viewProductDetails;
        window.addToCart = addToCart;
        window.filterByCategory = filterByCategory;
        window.updateCartQuantity = updateCartQuantity;
        window.removeFromCart = removeFromCart;
        window.openCartModal = openCartModal;
        window.openCheckoutModal = openCheckoutModal;
        window.quickOrderNow = quickOrderNow;
        window.scrollToSection = scrollToSection;

    </script>
</body>
</html>
